<!doctype html>
<html lang="">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Xelleq</title>
    <meta name="description" content="Xelleq â€“ Create, Connect, and Share all in one place.">
    <style>
      * {
        &::-webkit-scrollbar-thumb {
          background-color: rgba(32, 128, 240, 0.4);
          border-radius: 8px;
        }
        &::-webkit-scrollbar-track {
          background-color: transparent;
        }
        &::-webkit-scrollbar {
          width: 4px;
          height: 4px;
          background-color: transparent;
        }
      }
      /* Firefox */
      /* * {
        scrollbar-width: 4px;
        scrollbar-color: rgba(32, 128, 240, 0.4) transparent;
      } */
    </style>

    <script src="https://accounts.google.com/gsi/client" async></script>
    <script>
        function decodeJWT(token) {

        let base64Url = token.split(".")[1];
        let base64 = base64Url.replace(/-/g, "+").replace(/_/g, "/");
        let jsonPayload = decodeURIComponent(
            atob(base64)
            .split("")
            .map(function (c) {
                return "%" + ("00" + c.charCodeAt(0).toString(16)).slice(-2);
            })
            .join("")
        );
        return JSON.parse(jsonPayload);
        }

        function handleCredentialResponse(response) {

        console.log("Encoded JWT ID token: " + response.credential);

        const responsePayload = decodeJWT(response.credential);

        console.log("Decoded JWT ID token fields:");
        console.log("  Full Name: " + responsePayload.name);
        console.log("  Given Name: " + responsePayload.given_name);
        console.log("  Family Name: " + responsePayload.family_name);
        console.log("  Unique ID: " + responsePayload.sub);
        console.log("  Profile image URL: " + responsePayload.picture);
        console.log("  Email: " + responsePayload.email);
        }
    </script>
  </head>
  <body style="background-color: black; width: 100%; height: 100%">
    <audio id="joined-alert-audio" src="/joined_alert.wav"></audio>
    <audio id="new-msg-alert-audio" src="/new_msg_alert.wav"></audio>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
